<!doctype html>
<html lang="en">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">


        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        
        <!-- Icon -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

        <!--Style CSS-->
        <link href="CSS/Style.css" rel="stylesheet">

        <!-- Favicon -->
        <link rel="shortcut icon" type="image/icon" href="/static/Images/favicon.ico"/>


        <!--Title-->
        <title>Blucala Home Page</title>
    </head>

    <body class="Home">
        <!--Navigation Bar-->
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand" href="/">
                <img src="/static/Images/blucala-logo-p-500.png" width="auto" height="50" alt="Logo">
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
            </button>
                  
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="modal" data-target="#Promodal" href="#">Join as pro</a>
                    </li>
                    <li>
                        <a class="nav-link" data-toggle="modal" data-target="#Clientomodal" href="#">Sign up</a>
                    </li>
                    <li>
                        <a class="nav-link" data-toggle="modal" data-target="#LoginModal" href="#">Log in</a>
                    </li>
                </ul>
            </div>
        </nav>
        <!--Navigation Bar End-->

        <!--Main Content Start-->
        <section class="section">
        <!--Search Box-->
        <div class="container">
            <div class="row">
            <div class="col-sm-12 col-md-10 col-lg-10">
                <h3 class="text-midle"><b>The BEST place to find local professionals <br>For pretty much anything</b></h3>
            </div>
            <div class="col-sm-12 col-md-10 col-lg-6 Search">
                <div class="input-group input-group-lg">
                    <input type="text" id="text-search" class="form-control autocomplete" style="height:50px" placeholder="Who do you need to hire?">
                    <div class="input-group-append">
                        <button id="searchbutton"  onclick="saveSearch();" class="btn btn-primary" data-toggle="modal" data-target="#ProgressiveFormModal" type="button">Search</button>
                    </div>
                </div>
            </div>
            </div>
        </div>
        <!--End Search-->

        <!--Progressive form on search click-->
        <div id="ProgressiveFormModal" class="modal fade bd-example-md">
            <div class="modal-dialog modal-md">
                <div class="modal-content">
                    <!--One tab for each step in the form: -->
                    <form id="ProgressiveForm" action="">
                        <div class="tab">
                            <img src="//static/Images/map.svg" width="10%" alt="Map" class="center">
                            <p>Answer a few questions to get matched with <br>professionals near you</p>
                            <p class="text">Please confirm the Location where work is to be done</p>
                            <input name="location"><br><br><br>
                        </div>

                        <!-- <div class="tab">
                            <div class="tabContent2">
                                <h5>2 of 9</h5>
                                <p><b>Which of the following best matches your <br>project ?</b></p>
                                <div class="form-group">
                                    <select name="Project" class="form-control">
                                        <option  value="1">House Cleaners</option>
                                        <option value="2">Painter</option>
                                        <option value="3">Carpenter</option>
                                        <option value="3">Makeup Artist</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <input type="text" class="form-control" placeholder="Enter the project type if not listed"  name="Project" not required >
                                </div>
                            </div>
                        </div> -->

                        <div class="tab">
                            <h4>We found matching pro in  $Location</h4>
                            <p class="text">Share your project information with up to 5 local professionals</p>
                            
                            <div class="form-group">
                                <input type="text" class="form-control" name="name" placeholder="Name" required>
                            </div>
                            <div class="form-group">
                                <input type="email" class="form-control" name="email" placeholder="Email" required>                                    </div>
                            <div class="form-group">
                                <input type="tel" class="form-control" name="phone_number" placeholder="Phone Number" required>
                            </div>

                            <p class="text">By clicking or tapping "Request Quotes", I agree to the <a href="">Houzz Terms of Use</a>
                                and to receive text messages and calls about my projects under these terms. The <a href="">Blucala Privacy Policy</a> applies.</p>
                            
                        </div>

                        <div style="overflow:auto;">
                            <div style="float: center;">
                                <button class="btn btn-primary" type="button"  id="prevBtn" onclick="nextPrev(-1)">Previous</button>
                                <button class="btn btn-primary" type="button" id="nextBtn" onclick="nextPrev(1)">Next</button>
                            </div>
                        </div>

                        <!--Circles which indicates the steps-->
                        <div style="text-align: center; margin-top:40px;">
                            <span class="step"></span>
                            <span class="step"></span>
                            <span class="step"></span>
                        </div>

                    </form>

                    <script>
                        const userform = {};
                        window.myuser = JSON.parse(localStorage["currentUser"]);
                        constLoggedin = false;

                        function isLogin(){
                            if (window.myuser["username"]){
                                Loggedin = true;
                                return Loggedin
                                }
                            else{
                                Loggedin = false
                                return Loggedin
                                }
                            }

                        var currentTab = 0; //Current tab is set to be first tab (0)
                        showTab(currentTab); //Display the current tab

                        function showTab(n)
                        {
                            //this function will display the specified tab of the form...
                            var x = document.getElementsByClassName("tab");
                            x[n].style.display = "block";

                            //... and fix the previous/Next buttons:
                            if (n == 0)
                            {
                                document.getElementById("prevBtn").style.display = "none";
                            }
                            else
                            {
                                document.getElementById("prevBtn").style.display = "inline";
                            }
                            if (n == (x.length - 1))
                            {
                                document.getElementById("nextBtn").innerHTML = "Request Quotes";
                                if (isLogin()){
                                    document.getElementById('nextBtn').setAttribute( "onClick", 'processForm("ProgressiveForm","login/")' );
                                }
                                else{
                                    document.getElementById('nextBtn').setAttribute( "onClick", 'processForm("ProgressiveForm","login/")' );
                                }

                            }
                            else
                            {
                                document.getElementById("nextBtn").innerHTML = "Next";
                            }

                            //...and run a function that will display the correct step indicator;
                            fixStepIndicator(n)
                        }

                        function nextPrev(n)
                        {
                            //This function will figure out which tab to display
                            var x = document.getElementsByClassName("tab");
                            //Exit the function if any field in the current tab is invalid:
                            if (n == 1 && !validateForm()) return false;
                            //Hide the current tab:
                            x[currentTab].style.display = "none";
                            //Increase or decrease the current tab by 1:
                            currentTab = currentTab + n;
                            //if you have reached the en of the form...
                            if (currentTab >= x.length)
                            {
                                //...the form gets submitted:
                                document.getElementById("ProgressiveForm").submit();
                                return false;
                            }
                            //Otherwise, display the correct tab:
                            showTab(currentTab);
                        }

                        function validateForm()
                        {
                            //This function deals with validation of the form fields
                            var x, y, i, valid = true;
                            x = document.getElementsByClassName("tab");
                            y = x[currentTab].getElementsByTagName("input");

                            //A loop that checks every input field in the current tab:
                            for (i = 0; i < y.length; i++)
                            {
                                //if a field is empty...
                                if (y[i].value == "")
                                {
                                    //add an "invalid" class to the field:
                                    y[i].className += " invalid";
                                    // and set the current valid status to false
                                    valid = false;
                                }
                            }

                            //If the valid status is true, mark the step as finished and valid:
                            if (valid)
                            {
                                document.getElementsByClassName("step")[currentTab].className += " finish";
                            }
                            return valid; // return the valid status
                        }

                        function fixStepIndicator(n)
                        {
                            //This function removes the "active" class of all steps...
                            var i, x = document.getElementsByClassName("step")
                            for (i = 0; i < x.length; i++)
                            {
                                x[i].className = x[i].className.replace("active", "");
                            }
                            //... and adds the "active" class on the current step:
                            x[n].className += " active";
                        }
                        function $_(IDS) { return document.getElementById(IDS); }

                        //ProcessForm Function
                        function processForm(btnid,formid, endpoint){
                        $_(btnid).innerHTML = `<button class="btn btn-primary pull-right" type="button" type="submit" disabled>
  <span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true"></span>
  Loading...
</button>`
                        
                        let myForm = document.getElementById(formid);
                        let formData = new FormData(myForm);
                        var url = "https://rg318vt3x3.execute-api.us-west-2.amazonaws.com/api/"+endpoint
                        // var url = "http://127.0.0.1:8000" + endpoint
                        const info = {};

                        //This will build the form from name, value pairs
                        for(var pair of formData.entries()){
                            console.log(pair[0]+','+ pair[1]);
                            if(pair[0] === 'specialty' && pair[1] === ''){
                                // do nothing
                            }
                            else{
                            info[pair[0]] = pair[1]
                            }
                        }
                        window.userform = info;
                        console.log(window.userform)
                        if(endpoint ==='login/'){
                            login(info, url)
                        }
                        else{
                        signUp(info,url);
                        }
                    }

                    function signUp(info,url){
                        var state = false;
                        console.log("called signUp function...")
                        const http = new XMLHttpRequest();
                        http.open('POST', url);
                        http.setRequestHeader('Content-type', 'application/json');
                            // http.setRequestHeader('Authentication','id_token');
                            http.send(JSON.stringify(info)); // Make sure to stringify
                            // http.onreadystatechange=(e)=>{
                            //     // console.log(
                            //     //     http.responseText
                            //     // )
                            // }
                        http.onload = function() {
                        state = true;
                        var resp = http.responseText;
                        var json_resp = JSON.parse(resp);
                        // You can now use the response for what you want
                        console.log(json_resp)
                        }

                    }


                    //Login
                         function login(info,url){
                         var state = false;
                         console.log("called login function...")
                         const http = new XMLHttpRequest();
                         http.open('POST', url);
                         http.setRequestHeader('Content-type', 'application/json');
                         // http.setRequestHeader('Authentication','id_token');
                         http.send(JSON.stringify(info)); // Make sure to stringify
                         // http.onreadystatechange=(e)=>{
                         // // console.log(
                         // // http.responseText
                         // // )
                         // }
                         http.onload = function() {
                         state = true;
                         var resp = http.responseText;
                         var json_resp = JSON.parse(resp);
                         console.log(json_resp)
                         window.myuser = json_resp['response']['user']   
                         myuser['id_token']=json_resp['response']['id_token']
                         // You can now use the response for what you want
                         console.log(window.myuser)
                         localStorage["currentUser"] = JSON.stringify(window.myuser);
                         window.location.href="/Dashboard.html"
                         }

                         }


                    //Save form function

                    function saveForm(formId){
                        let myForm = document.getElementById(formid);
                        let formData = new FormData(myForm);
                        const info = {};

                        //This will build the form from name, value pairs
                        for(var pair of formData.entries()){
                            //console.log(pai[0]+','+ pair[1]);
                            info[pair[0]] = pair[1]
                        }
                        return info;

                    }

                    </script>
                </div>
            </div>
        </div>
        <!--End Progresive form on search click-->



        <!--Modal for Sign up pro-->
        <div id="Promodal"  class="modal fade bd-example-modal-lg">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="container">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        <div class="left">
                            <img class="ImagePro" src="/static/Images/Asset-2.png" width="20%" alt="Pro Worker">
                            <div class="Procontent">
                                <h5><b>Waits what a Pro?</b></h5>
                                <p>Blucala pros are local business owners right in your community.<br>
                                    They're the neignbors you just haven't met yet, with the skills <br>
                                    you need to get the job done.
                                </p>
                            </div>
                        </div>
                        <div class="right">
                            <div class="authfy-heading">
                                <h5 class="auth-title">Pro Sign Up</h5>
                                <p>Lets get you some deals</p>
                            </div>
                            <form id="ProRegistration" action="#" method="dialog">
                                <div class="form-group">
                                    <input  name="firstName" type="text" class="form-control" placeholder="First Name" required>
                                </div>
                                <div class="form-group">
                                    <input  name="lastName" type="text" class="form-control" name="" placeholder="Last Name" required>
                                </div>
                                <div class="form-group">
                                    <input id="bizName" name="businessName" type="text" class="form-control" placeholder="Business Name" required>
                                </div>
                                <div class="form-group">
                                        <select class="form-control" id="specialty"name="specialty">
                                                <option value="" disabled selected>Select your Specialty </option>
                                                <option value="Painter">Painter</option>
                                                <option value="Plumber">Plumber</option>
                                                <option value="Carpenter">Carpenter</option>
                                                <option value="Landryman">Landryman</option>
                                                <option value="Dj">Dj</option>
                                                <option value="Makeup Artist">Makeup Artist</option>
                                              </select>
                                </div>
                                <div class="form-group">
                                    <input id="altspecialty" type="text" name="specialty" class="form-control" placeholder="Input Your Speciality if not listed">
                                </div>
                                <div class="form-group">
                                    <input id="email" type="email" name="email" class="form-control" placeholder="Email" required>
                                </div>
                                <div class="form-group">
                                    <input id="phone" type="tel" name="phone_number" class="form-control" placeholder="Phone Number" required>
                                </div>
                                <div class="form-group">
                                    <select class="form-control" name="idType">
                                        <option value="" disabled selected>ID Card Type</option>
                                        <option value="Voters ID">Voters ID</option>
                                        <option value="Drivers License">Drivers License</option>
                                        <option value="Passport">Passport</option>
                                        <option value="National ID">National ID</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <input  type="text" name="idnumber" class="form-control" placeholder="Id Number" required>
                                </div>
                                <div class="form-group">
                                    <select class="form-control" name="region">
                                        <option value="" disabled selected>Select your Location Region</option>
                                        <option value="Greater Accra">Greater Accra</option>
                                        <option value="Volta">Volta</option>
                                        <option value="Eastern">Eastern</option>
                                        <option value="Ashanti">Ashanti</option>
                                        <option value="Northern">Northern</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <input type="text"  name="address" class="form-control" placeholder="Adress" required>
                                </div>
                                <div class="form-group">
                                    <input type="date" name="dob" class="form-control" placeholder="Date of Birth">
                                </div>
                                <div class="form-group">
                                    <input type="email" id="uName"  name="username" class="form-control" placeholder="Username" required>
                                </div>
                                <div class="form-group">
                                    <input type="password" id="password" name="password" class="form-control"  placeholder="Password" required>
                                </div>
                                <div class="form-row" id="comment-message">
                                    <textarea name="message" id="comment" placeholder="Comment"></textarea>
                                </div>
                                <button type="submit" id="submit" class="btn btn-primary pull-right" onclick="processForm('ProRegistration', 'pro_signup/')">Sign Up</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--End Modal Sign Up Pro-->


        <!--Modal Sign Up Client-->
        <div id="Clientomodal"  class="modal fade bd-example-modal-lg">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="container">
                            <div class="left">
                                <img class="ImageClient" src="/static/Images/Asset-4-1-p-500.png" width="20%" alt="Pro Worker">
                                <div class="Clientcontent">
                                    <h5><b>For blucala clients</b></h5>
                                    <p>Blucala assists you to get quotes from several sources, compare
                                            them and makes the right choice.
                                    </p>
                                </div>
                            </div>
                            <div class="right">
                                <div class="authfy-heading">
                                    <h5 class="auth-title">Client Sign Up</h5>
                                    <p>Lets get your job done</p>
                                </div>
                                <form id="ClientRegistration" action="#">
                                    <div class="form-group">
                                        <input id="fname" name="firstname" type="text" class="form-control" placeholder="First Name" required>
                                    </div>
                                    <div class="form-group">
                                        <input id="lname" name="lastname" type="text" class="form-control" placeholder="Last Name" required>
                                    </div>
                                    <div class="form-group">
                                        <input id="email" name="email" type="email" class="form-control" placeholder="Email" required>
                                    </div>
                                    <div class="form-group">
                                        <input id="password" name="password" type="password" class="form-control" placeholder="Password" required>
                                    </div>
                                    <div class="form-group">
                                        <input id="phone" name="phone_Number" type="tel" class="form-control" placeholder="Phone Number" required>
                                    </div>
                                    
                                    <button type="submit" id="submit" class="btn btn-primary pull-left" onclick="processForm('ClientRegistration','client_signup/')">Sign Up</button>
                                    <div class="pull-right">
                                    <p>Or Signup with <br><a href="#">Google</a>/<a href="#"> Facebook</a></p>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        <!--End Modal Sign Up Client-->

        <!--Modal Log In Start-->
        <div id="LoginModal"  class="modal fade bd-example-modal-sm">
                <div class="modal-dialog modal-sm">
                    <div class="modal-content">
                        <div class="container">
                                <form id="LoginForm" method="dialog" action="#">
                                    <div class="form-group">
                                        <input id="uName" name="username" type="text" class="form-control" placeholder="Username" required>
                                    </div>
                                    <div class="form-group">
                                        <input id="password" name="password" type="password" class="form-control" placeholder="Password">
                                    </div>
                                    
                                    <div class="LoginForm-button">
                                    <button type="submit" id="loginSubmit" class="btn btn-primary pull-right" onclick="processForm('loginSubmit','LoginForm','login/')">Login</button>

                                    <button type="button" class="btn btn-primary btn-circle"><i class="fa fa-facebook"></i></button>
                                    <button type="button" class="btn btn-danger btn-circle"><i class="fa fa-google"></i></button>
                                    
                                </div>
                                    <div class="reset-password">
                                        <a class="pull-right" href="Reset Password.html">Reset Password</a>
                                    </div>
                                </form>
                        </div>
                    </div>
                </div>
            </div>
        <!--End Modal Log In Start-->


        <!--End Main Content-->
        </section>

        <!--Start Footer-->
        <footer class="footer  bg-light" >
            <div class="row">
                <div class="col-sm-3 col-md-3 col-lg-3 inner-right">
                    <nav class="navbar navbar-expand-lg">
                        <ul class="navbar-nav">
                            <li class="nav-item active ">
                                <a class="nav-link" href="htt-p://blucala.com/" target="_blank">About Us</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="http://blucala.com/" target="_blank">Privacy Policy</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="http://blucala.com/" target="_blank">Terms Of Use</a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>                     
        </footer>
        <!--End Footer-->





        
       <!-- jQuery first, then Popper.js, then Bootstrap JS -->
       <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
       <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
       <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
       


       <!--Search Form Script-->
        <script>
        document.querySelector('#text-search').focus();
            document.querySelector('#text-search').onkeyup = function(e) {
                if (e.keyCode === 13) {  // enter, return
                    document.querySelector('#searchbutton').click();
        
                }
            };
            // document.querySelector('#searchbutton').onclick = function(e) {
            //     var query = document.querySelector('#text-search');
            //     if (query.value === ''){
            //         alert("Who do you need to hire?");
            //     }else{
        
            //     // const info = {q:query.value};
            //     window.location.href = ""+query.value;
            //     // Check(info);
            //     // console.log(q.value)
            //     }
        
            // }
        
                function autocomplete(inp, arr) {
                /*the autocomplete function takes two arguments,
                the text field element and an array of possible autocompleted values:*/
                var currentFocus;
                /*execute a function when someone writes in the text field:*/
                inp.addEventListener("input", function(e) {
                    var a, b, i, val = this.value;
                    /*close any already open lists of autocompleted values*/
                    closeAllLists();
                    if (!val) { return false;}
                    currentFocus = -1;
                    /*create a DIV element that will contain the items (values):*/
                    a = document.createElement("DIV");
                    a.setAttribute("id", this.id + "autocomplete-list");
                    a.setAttribute("class", "card col-sm-12 col-md-12 col-lg-12 autocomplete-items");
                    /*append the DIV element as a child of the autocomplete container:*/
                    this.parentNode.appendChild(a);
                    /*for each item in the array...*/
                    for (i = 0; i < arr.length; i++) {
                        /*check if the item starts with the same letters as the text field value:*/
                        if (arr[i].substr(0, val.length).toUpperCase() == val.toUpperCase()) {
                        /*create a DIV element for each matching element:*/
                        b = document.createElement("DIV");
                        /*make the matching letters bold:*/
                        b.innerHTML = "<strong>" + arr[i].substr(0, val.length) + "</strong>";
                        b.innerHTML += arr[i].substr(val.length);
                        /*insert a input field that will hold the current array item's value:*/
                        b.innerHTML += "<input type='hidden' value='" + arr[i] + "'>";
                        /*execute a function when someone clicks on the item value (DIV element):*/
                        b.addEventListener("click", function(e) {
                            /*insert the value for the autocomplete text field:*/
                            inp.value = this.getElementsByTagName("input")[0].value;
                            /*close the list of autocompleted values,
                            (or any other open lists of autocompleted values:*/
                            closeAllLists();
                        });
                        a.appendChild(b);
                        }
                    }
                });
                /*execute a function presses a key on the keyboard:*/
                inp.addEventListener("keydown", function(e) {
                    var x = document.getElementById(this.id + "autocomplete-list");
                    if (x) x = x.getElementsByTagName("div");
                    if (e.keyCode == 40) {
                        /*If the arrow DOWN key is pressed,
                        increase the currentFocus variable:*/
                        currentFocus++;
                        /*and and make the current item more visible:*/
                        addActive(x);
                    } else if (e.keyCode == 38) { //up
                        /*If the arrow UP key is pressed,
                        decrease the currentFocus variable:*/
                        currentFocus--;
                        /*and and make the current item more visible:*/
                        addActive(x);
                    } else if (e.keyCode == 13) {
                        //   window.enter = true;
                        /*If the ENTER key is pressed, prevent the form from being submitted,*/
                        e.preventDefault();
                        if (currentFocus > -1) {
                        /*and simulate a click on the "active" item:*/
                        if (x) x[currentFocus].click();
                        }
                    }
                });
                function addActive(x) {
                    /*a function to classify an item as "active":*/
                    if (!x) return false;
                    /*start by removing the "active" class on all items:*/
                    removeActive(x);
                    if (currentFocus >= x.length) currentFocus = 0;
                    if (currentFocus < 0) currentFocus = (x.length - 1);
                    /*add class "autocomplete-active":*/
                    x[currentFocus].classList.add("autocomplete-active");
                }
                function removeActive(x) {
                    /*a function to remove the "active" class from all autocomplete items:*/
                    for (var i = 0; i < x.length; i++) {
                    x[i].classList.remove("autocomplete-active");
                    }
                }
                function closeAllLists(elmnt) {
                    /*close all autocomplete lists in the document,
                    except the one passed as an argument:*/
                    var x = document.getElementsByClassName("autocomplete-items");
                    for (var i = 0; i < x.length; i++) {
                    if (elmnt != x[i] && elmnt != inp) {
                        x[i].parentNode.removeChild(x[i]);
                    }
                    }
                }
                /*execute a function when someone clicks in the document:*/
                document.addEventListener("click", function (e) {
                    closeAllLists(e.target);
                    // console.log(e)
                });
                }
        
                /*An array containing all the country names in the world:*/

                var works = [
                    "Painter","Chloroquin","Plasmotrim","Efpac","Vitamin-b12","Milo",
                    "Milk","Brufen","Folic acid","Trisilicate","Indocid","Panadol","Centrizine",
                    "Pampers","Baby oil","sml baby food","tooth paste","pepsodent","close up",
                    "colgate"
                    ];
        
        
                /*initiate the autocomplete function on the "myInput" element, and pass along the countries array as possible autocomplete values:*/
                autocomplete(document.getElementById("text-search"), works);
        function saveSearch(){
            localStorage['src_value'] = JSON.stringify($_("text-search").value);
        }
                </script>
        
   </body>
</html>
